"\nfor (var i in locals.queue) {\n  \n  var data = locals.queue[i]\n  \n  if (data[0]==\"clear\")\n  {\n    ctx.beginPath()\n    ctx.clearRect(0, 0, width,height)\n  }\n  \n  else if (data[0]==\"moveto\")\n  {\n      ctx.beginPath() \n      ctx.moveTo(data[1] * width, data[2]*height)\n   \n      locals.cursorx = data[1]*width\n      locals.cursory = data[2]*height\n  }\n  //else \n  else if (data[0]==\"lineto\")\n  {\n   \n    // use locals.drawColor property as stroke color\n    ctx.strokeStyle = locals.drawColor\n    ctx.lineWidth = locals.lineWidth\n    ctx.lineTo(data[1] * width, data[2]*height)\n    // draw stroke\n    ctx.stroke()\n  }\n  else if (data[0]==\"frameoval\")\n  {\n     ctx.moveTo(locals.cursorx+data[1] * width,locals.cursory)\n     ctx.strokeStyle = locals.drawColor\n     ctx.ellipse(locals.cursorx,locals.cursory,data[1] * width, data[2]*height,0,0, 2 * Math.PI)\n     ctx.stroke()\n  }\n  else if (data[0]==\"paintoval\")\n  {\n     ctx.strokeStyle = locals.drawColor\n     ctx.ellipse(locals.cursorx,locals.cursory,data[1] * width, data[2]*height,0,0, 2 * Math.PI)\n     ctx.fillStyle = locals.fillColor\n     ctx.fill();\n  }\n  else if (data[0]==\"penwidth\")\n    locals.lineWidth=data[1]\n  else if (data[0]==\"fillColor\")\n    locals.fillColor=data[1]\n  else if (data[0]==\"color\")\n    locals.drawColor=data[1]\n  else if (data[0]==\"rect\")\n    {\n      ctx.fillStyle = locals.fillColor\n      ctx.fillRect (locals.cursorx,locals.cursory,data[1]*width,data[2]*height)\n    }\n}\n\nlocals.queue = []\n"